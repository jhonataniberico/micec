<div class="container">
    <div class="row">
        <div class="col-md-12 header">
            <h5><svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chat-left-text-fill"
                    style="margin-right: 1%;" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4.414a1 1 0 0 0-.707.293L.854 15.146A.5.5 0 0 1 0 14.793V2zm3.5 1a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 2.5a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 2.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5z" />
                </svg>
                <strong>OPINIÓN DE SERVICIO</strong>
            </h5>

            <button mat-raised-button (click)="regresar()" class="btnReg" color="primary">
                <svg width="27.1px" height="27.1px" viewBox="0 0 16 16" class="bi bi-arrow-left-short"
                    style="margin-right: 5%;" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z" />
                </svg>Regresar
            </button>
        </div>
    </div>
    <div class="row mt-5">
        <div class="col-md-7">
            <app-medico [medico]="profesional"></app-medico>
        </div>
        <div class="col-md-5 float-right text-justify ">
            <mat-card style=" border-radius: 10px;">
                <div class="row">
                    <div class="col-md-12">
                        <h6 class="nota">
                            <mat-icon>priority_high</mat-icon><strong>Nota</strong>
                        </h6>
                        <p class="texto">Le pedimos que sea lo más honesto posible en la calificación, dado que esta
                            información ayuda a otras personas a decidir atenderse o no con él(la) profesional.</p>
                    </div>
                </div>
            </mat-card>
        </div>
    </div>
    <div class="row mb-5 " style=" margin: 20px 0px 0px 0px;">
        <mat-card *ngIf="flag2" class="col-md-12 calificar">
            <div class="row">

                <div class="col-md-12 estrellas">
                    <h4 class="texto2"><strong>Calificar el servicio</strong></h4>
                    <p class="p1">¿Cómo calificarías tu cita con el profesional?</p>
                    <app-star [paramsEstrellas]="null" (rating)="ratingSelected($event)"></app-star>
                </div>

                <div class="col-md-12">
                    <div class="row">
                        <div class="col-md-12 seleccionar ">
                            <p class="p2">¿Que es lo que mas le gusto del profesional? (Elija una o mas opciones)</p>
                            <div>
                                <button mat-raised-button class="btnOpc" (click)="marcarOpcion(1)"
                                    [ngClass]="puntualidadGusto==1?'botonSelect':'botonUnselect'">
                                    Puntualidad
                                </button>
                                <button mat-raised-button class="btnOpc" (click)="marcarOpcion(2)"
                                    [ngClass]="explicacionDetalladaGusto==1?'botonSelect':'botonUnselect'">
                                    Explicaciones detalladas
                                </button>
                                <button mat-raised-button class="btnOpc" (click)="marcarOpcion(3)"
                                    [ngClass]="dedicacionEntrevistaGusto==1?'botonSelect':'botonUnselect'">
                                    Dedicación en la entrevista
                                </button>
                                <button mat-raised-button class="btnOpc" (click)="marcarOpcion(4)"
                                    [ngClass]="eficaciaGusto==1?'botonSelect':'botonUnselect'">
                                    Eficacia
                                </button>
                                <button mat-raised-button class="btnOpc" (click)="marcarOpcion(5)"
                                    [ngClass]="pacienciaGusto==1?'botonSelect':'botonUnselect'">
                                    Paciencia
                                </button>
                                <button mat-raised-button class="btnOpc" (click)="marcarOpcion(6)"
                                    [ngClass]="otroGusto==1?'botonSelect':'botonUnselect'">
                                    Otro
                                </button>
                            </div>
                        </div>
                        <div class="col-md-12 seleccionar ">
                            <p class="p2">¿En que cree que debe mejorar el especialista? (Elija una o mas opciones)</p>
                            <div>
                                <button mat-raised-button class="btnOpc" (click)="marcarOpcion(7)"
                                    [ngClass]="puntualidadMejorar==1?'botonSelect':'botonUnselect'">
                                    Puntualidad
                                </button>
                                <button mat-raised-button class="btnOpc" (click)="marcarOpcion(8)"
                                    [ngClass]="explicacionDetalladaMejorar==1?'botonSelect':'botonUnselect'">
                                    Explicaciones detalladas
                                </button>
                                <button mat-raised-button class="btnOpc" (click)="marcarOpcion(9)"
                                    [ngClass]="dedicacionEntrevistaMejorar==1?'botonSelect':'botonUnselect'">
                                    Dedicación en la entrevista
                                </button>
                                <button mat-raised-button class="btnOpc" (click)="marcarOpcion(10)"
                                    [ngClass]="eficaciaMejorar==1?'botonSelect':'botonUnselect'">
                                    Eficacia
                                </button>
                                <button mat-raised-button class="btnOpc" (click)="marcarOpcion(11)"
                                    [ngClass]="pacienciaMejorar==1?'botonSelect':'botonUnselect'">
                                    Paciencia
                                </button>
                                <button mat-raised-button class="btnOpc" (click)="marcarOpcion(12)"
                                    [ngClass]="otroMejorar==1?'botonSelect':'botonUnselect'">
                                    Otro
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12" style="margin-top: 5%;">
                        <p class="p2">Escribe tu opinión</p>
                        <div>
                            <mat-form-field appearance="fill">
                                <textarea matInput name="opinionEscrita" matTextareaAutosize matAutosizeMinRows="1"
                                    matAutosizeMaxRows="4" #opinionEscrita="ngModel" id="opinionEscrita"
                                    [(ngModel)]="opinion" required></textarea>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <mat-checkbox class="example-margin check" [(ngModel)]="checkActivar">
                            Consiento el tratamiento de mis datos personales con el fin de añadir una opinión sobre un
                            especialista. <a href="#" class="textCheck">Saber Más</a>
                        </mat-checkbox>
                    </div>
                    <div class="col-md-12 text-right" style="margin-top: 3%">
                        <button mat-raised-button class="btnEnv" color="primary" style="background-color: #787a7d"
                            (click)="regresar()">
                            Cancelar
                        </button>
                        <button mat-raised-button class="btnEnv" color="primary"
                            (click)="insertarActualizarCalificacion()"
                            [disabled]="!checkActivar || !opinion || !calificacion || !existeGusto || !existeMejorar">
                            Enviar mi opinión
                        </button>
                    </div>
                </div>
            </div>
        </mat-card>

        <!-- COMPONENTE DE OPINION ENVIADA -->
        <mat-card *ngIf="flag" class="col-md-12 mt-2">
            <mat-card-header class="centrarContenido">
                <mat-card-title class="revision">Su opinion esta en revisión...</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <div class="row">
                    <div class="col-md-12 empujarPoco">
                        <h5 class="evaluada">Tu opinión es muy valiosa, actualmente esta siendo revisada por nuestros
                            especialistas
                        </h5>
                        <app-star [paramsEstrellas]="null"></app-star>
                        <h3 class="opinion">Opinión</h3>
                        <h5 class="evaluada">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eius
                            perspiciatis, distinctio cumque aut corrupti reprehenderit a facere, fugit voluptates
                            consectetur quisquam earum illo doloribus totam at recusandae ducimus veniam ullam!</h5>
                    </div>
                    <div class="col-md-4 offset-md-8 text-right mt-2">
                        <button type="button" class="btn btn-primary"
                            style="width: 100%!important; background-color: #2a7de1 !important; color: white !important; margin-left: 0!important;">Volver
                            al perfil del doctor</button>
                    </div>
                </div>
            </mat-card-content>
        </mat-card>
        <!-- ----------------------------- -->
    </div>
</div>